---
// src/components/cards/CaseStudyCardV5.astro

/*
================================================================================
Component: CaseStudyCardV5
Description: A card for a single case study, featuring an image and an
             overlapping content box with details and a button.
================================================================================
*/

import { Image } from 'astro:assets';
import type { ImageMetadata } from 'astro';

// --- Asset Imports ---
import arrowIconLight from '../../assets/images/icons/top-arrow.svg';
import arrowIconDark from '../../assets/images/icons/top-arrow-dark.svg';

export interface Props {
  image: ImageMetadata;
  altText: string;
  category: string;
  title: string;
  description: string;
  url: string;
  buttonText: string;
}

const { image, altText, category, title, description, url, buttonText } = Astro.props;
---

<div
  class="flex flex-col lg:flex-row items-center relative reveal-me underline-hover-effect group"
>
  <!-- Case Study Image -->
  <figure class="max-w-[870px] -z-30 overflow-hidden">
    <a href={url} class="block">
      <Image
        src={image}
        alt={altText}
        class="w-full h-full group-hover:scale-125 group-hover:rotate-3 transition-all duration-500"
      />
    </a>
  </figure>

  <!-- Overlapping Content Card -->
  <div
    class="p-[30px] z-30 max-md:-mt-5 lg:absolute lg:right-0 bg-backgroundBody dark:bg-dark border border-black/10 dark:border-white/10 max-w-[570px]"
  >
    <p
      class="font-satoshi text-sm font-normal leading-6 tracking-[3px] uppercase mb-2 lg:mb-[14px]"
    >
      {category}
    </p>
    <div class="blog-title mb-3.5 lg:mb-5">
      <a href={url}>
        <h3
          class="text[25px] md:text-3xl lg:text-4xl lg:leading-[1.2] lg:tracking-[-0.72px]"
        >
          {title}
        </h3>
      </a>
    </div>
    <p class="mb-10">
      {description}
    </p>
    <!-- Case Study Button -->
    <a href={url} class="rv-button rv-button-white">
      <div class="rv-button-top !text-center">
        <span>{buttonText}</span>
        <Image
          class="inline dark:hidden"
          src={arrowIconLight}
          alt="Arrow Icon"
        />
        <Image
          class="hidden dark:inline"
          src={arrowIconDark}
          alt="Arrow Icon"
        />
      </div>
      <div class="rv-button-bottom !text-center">
        <span class="">{buttonText}</span>
        <Image
          class="dark:inline hidden"
          src={arrowIconLight}
          alt="Arrow Icon"
        />
        <Image
          class="dark:hidden inline"
          src={arrowIconDark}
          alt="Arrow Icon"
        />
      </div>
    </a>
  </div>
</div>
