---
// src/components/cards/BlogPostCardV19.astro

/*
================================================================================
Component: BlogPostCardV19
Description: A card for displaying a single blog post, including an image,
             category, title, and an animated "Read More" button.
================================================================================
*/

import { Image } from 'astro:assets';
import type { ImageMetadata } from 'astro';

// --- Asset Imports ---
import arrowIconLight from '../../assets/images/icons/top-arrow.svg';
import arrowIconDark from '../../assets/images/icons/top-arrow-dark.svg';

// Define the properties for a single blog post card
export interface Props {
  image: ImageMetadata;
  altText: string;
  category: string;
  title: string;
  url: string;
  isActive?: boolean; // Optional prop for the default active card
}

const { image, altText, category, title, url, isActive = false } = Astro.props;
---

<article
  class:list={[
    "blog-card border dark:border-dark p-2.5 group relative cursor-pointer min-h-[565px] reveal-me",
    { "active-card": isActive }
  ]}
>
  <a
    href={url}
    class="w-full"
    aria-labelledby={`blog-title-${title.toLowerCase().replace(/\s+/g, '-')}`}
  >
    <figure class="overflow-hidden h-[238px]">
      <Image
        src={image}
        alt={altText}
        class="w-full h-full transition-all duration-500 group-hover:scale-125 group-hover:rotate-3 object-cover"
        width="370"
        height="238"
      />
    </figure>
    <div class="px-2.5">
      <div class="rv-badge mt-7">
        <span class="rv-badge-text">{category}</span>
      </div>

      <div class="blog-title mt-3.5 mb-[30px]">
        <h3
          id={`blog-title-${title.toLowerCase().replace(/\s+/g, '-')}`}
          class="text-[25px] md:text-3xl lg:text-[32px] lg:leading-[1.2] lg:tracking-[-0.72px]"
        >
          {title}
        </h3>
      </div>

      <div class="absolute bottom-[22px]">
        <div class="rv-button rv-button-primary2 w-full md:w-auto">
          <div class="rv-button-top !text-center flex items-center">
            <span class="pr-1">Read more</span>
            <Image
              class="inline dark:hidden"
              src={arrowIconLight}
              alt=""
              width="16"
              height="16"
              aria-hidden="true"
            />
            <Image
              class="hidden dark:inline"
              src={arrowIconDark}
              alt=""
              width="16"
              height="16"
              aria-hidden="true"
            />
          </div>
          <div class="rv-button-bottom !text-center flex items-center">
            <span class="pr-1">Read more</span>
            <Image
              class="inline"
              src={arrowIconLight}
              alt=""
              width="16"
              height="16"
              aria-hidden="true"
            />
          </div>
        </div>
      </div>
    </div>
  </a>
</article>
