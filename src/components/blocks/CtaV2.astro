---
// src/components/blocks/CtaV2.astro

/*
================================================================================
Component: CtaV2
Description: A call-to-action block with a large heading and an animated
             arrow button.
================================================================================
*/

import { Image } from 'astro:assets';
import type { ImageMetadata } from 'astro';

// --- Asset Imports ---
// Importing the specific arrow icons needed for the button animation
import arrowIconLight from '../../assets/images/icons/big-arrow-Icon.svg';
import arrowIconDark from '../../assets/images/icons/big-arrow-Icon-dark.svg';

// Define the properties for the block
export interface Props {
  heading: string;
  buttonUrl: string;
}

const { heading, buttonUrl } = Astro.props;
---

<!--
================================================================================
The structure is preserved from the static HTML. The button's complex
animation relies on multiple images and group-hover states.
================================================================================
-->
<section
  class="mt-14 md:mt-16 lg:mt-[88px] xl:mt-[100px] pt-16 lg:pt-[100px] pb-20 md:pb-36"
>
  <!-- Container for the CTA section -->
  <div
    class="container flex flex-col md:flex-row justify-center max-md:items-center gap-y-10 sm:justify-between"
  >
    <!-- CTA Heading -->
    <h2
      class="text-[46px] max-lg:leading-[1.33] lg:text-[96px] font-normal leading-[1.1] lg:tracking-[-2.88px] reveal-me"
      set:html={heading}
    >
    </h2>

    <!-- CTA Button -->
    <a href={buttonUrl}>
      <div
        class="bg-secondary dark:bg-primary p-5 w-44 h-44 lg:w-[230px] lg:h-[230px] group reveal-me"
      >
        <figure class="bg-primary dark:bg-secondary w-full h-full relative">
          <!-- Arrow Icon (Light Mode) -->
          <Image
            src={arrowIconLight}
            alt="Big Arrow Icon"
            class="dark:hidden inline absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 group-hover:-translate-y-28 group-hover:translate-x-9 transition-all duration-500 opacity-100 group-hover:opacity-0"
          />
          <!-- Arrow Icon (Dark Mode) -->
          <Image
            src={arrowIconDark}
            alt="Big Arrow Icon"
            class="dark:inline hidden absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 group-hover:-translate-y-28 group-hover:translate-x-9 transition-all duration-500 opacity-100 group-hover:opacity-0"
          />
          <!-- Arrow Icon (Light Mode - Hover) -->
          <Image
            src={arrowIconLight}
            alt="Big Arrow Icon"
            class="inline dark:hidden absolute top-full -left-2 -translate-x-1/2 -translate-y-1/2 group-hover:-translate-y-32 group-hover:translate-x-[80%] transition-all duration-500 opacity-0 group-hover:opacity-100"
          />
          <!-- Arrow Icon (Dark Mode - Hover) -->
          <Image
            src={arrowIconDark}
            alt="Big Arrow Icon"
            class="dark:inline hidden absolute top-full -left-2 -translate-x-1/2 -translate-y-1/2 group-hover:-translate-y-32 group-hover:translate-x-[80%] transition-all duration-500 opacity-0 group-hover:opacity-100"
          />
        </figure>
      </div>
    </a>
  </div>
</section>
