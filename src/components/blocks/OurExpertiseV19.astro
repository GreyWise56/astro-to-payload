---
// src/components/blocks/OurExpertiseV19.astro

/*
================================================================================
Component: OurExpertiseV19
Description: A block that displays a header and a grid of expertise items to
             showcase a company's strengths.
================================================================================
*/

import ExpertiseCardV19 from '../cards/ExpertiseCardV19.astro';
import type { Props as Expertise } from '../cards/ExpertiseCardV19.astro';

// Define the properties for the entire block
export interface Props {
  badge: string;
  heading: string;
  description: string;
  expertiseItems: Expertise[];
  button?: { // Button is now optional
    text: string;
    url: string;
  };
}

const { badge, heading, description, expertiseItems, button } = Astro.props;

// Split the items into two rows for the specific 3x2 layout
const row1Items = expertiseItems.slice(0, 3);
const row2Items = expertiseItems.slice(3);
---

<section
  class="pt-14 md:pt-16 lg:pt-[88px] xl:pt-[100px] pb-14 md:pb-16 lg:pb-[88px] xl:pb-[100px] relative overflow-hidden"
>
  <div class="container">
    <!-- Section Header -->
    <div class="text-center mb-8 md:mb-14">
      <div class="rv-badge reveal-me">
        <span class="rv-badge-text">{badge}</span>
      </div>
      <h2 class="my-3 text-appear" set:html={heading}></h2>
      <p class="text-appear">
        {description}
      </p>
    </div>

    <!-- content Area -->
    <article>
      {/* Top Row */}
      <div
        class="flex flex-col md:flex-row max-lg:flex-wrap mb-[30px] gap-[30px] reveal-me"
      >
        {row1Items.map((item) => <ExpertiseCardV19 {...item} />)}
      </div>
      {/* Bottom Row */}
      <div
        class="flex flex-col md:flex-row max-lg:flex-wrap gap-[30px] reveal-me"
      >
        {row2Items.map((item) => <ExpertiseCardV19 {...item} />)}
      </div>
    </article>

    <!-- Render button only if it exists -->
    {button && (
      <ul class="justify-self-center max-md:w-full mt-7 md:mt-14 reveal-me">
        <li class="block md:inline-block w-full mx-auto md:w-auto text-center">
          <a
            href={button.url}
            class="rv-button rv-button-white block md:inline-block"
          >
            <div class="rv-button-top">
              <span>{button.text}</span>
            </div>
            <div class="rv-button-bottom">
              <span>{button.text}</span>
            </div>
          </a>
        </li>
      </ul>
    )}
  </div>
</section>
